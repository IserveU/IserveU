<div class="md-toolbar-tools sidebar-toolbar" ng-class="settingsGlobal.user.on?'user-enabled flex':''">

  <md-button class="md-icon-button" aria-label="Home Button" href="#/home" ng-show="!search.isOpen">
    <symbol-all-white-png resize-width="24" ng-href="#/home"></symbol-all-white-png>
  </md-button>

  <md-button class="md-icon-button" aria-label="Stop Search Button" ng-show="search.isOpen" ng-click="search.show()">
    <md-icon class="mdi mdi-arrow-left"</md-icon>
  </md-button>

  <div layout="row" flex>

  <h2 ng-if="!search.isOpen" flex>Users</h2>

  <input class="sidebar-search-input" type='text' placeholder="Search ..." ng-show="search.isOpen" ng-model='search.text' ng-keyup="search.searchAll($event)" ng-class="{'sidebar-search-input':search.isOpen}" focus-input="search.isOpen" auto-focus flex/>


  <div ng-class="search.isOpen?'':'action-buttons'" layout-align="end end">
    <md-icon class="mdi mdi-magnify search-icon" ng-click="search.show()" ng-class="{'search-icon':search.isOpen}"></md-icon>

      <md-menu md-offset="27 32">
        <md-icon class="mdi mdi-dots-vertical" ng-click="$mdOpenMenu()"></md-icon>
        <md-menu-content width="4" class="md-body-1">

            <!-- Filter by role  -->
            <md-select ng-model="search._role.filter" ng-change="search.searchSpecific()" placeholder="Filter by Role" aria-label="filter users by role" layout-padding>
              <md-option ng-repeat="filter in search._role.filters" ng-value="filter.query">{{::filter.name}}</md-option>
            </md-select>

            <!-- Filter by Identity-->            
            <md-select ng-model="search._identity.filter" ng-change="search.searchSpecific()" placeholder="Filter by Identity" aria-label="filter users by identity" layout-padding>
              <md-option ng-repeat="filter in search._identity.filters" ng-value="filter.query">{{::filter.name}}</md-option>
            </md-select>

            <!-- Filter by Address-->
            <md-select ng-model="search._addressVerified.filter" ng-change="search.searchSpecific()" placeholder="Filter by Adrress" aria-label="filter users by adress" layout-padding>
              <md-option ng-repeat="filter in search._addressVerified.filters" ng-value="filter.query">{{::filter.name}}</md-option>
            </md-select>            

              <md-button class="md-accent md-raised" ng-click="search.all()">Clear filters</md-button>
          </md-menu-button>
        </md-menu-content>
      </md-menu>
  </div>
</div>
