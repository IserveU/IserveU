<section>
  <div flex="100" layout="row" class="voting">

    <md-card style="margin: 8px" flex>
      <md-card-content style="padding: 0">
            <md-button ng-click="ctr.castVote(motion.motionDetail.id, 1)" ng-class="{'md-raised agree':ctr.userVote.position == 1, 'voting-disabled':ctr.isVotingEnabled() }" aria-label="Agree" layout-fill>
              <md-icon md-svg-src="/themes/{{::themename}}/icons/{{ ctr.userVote.position==1 && 'thumb-up' || 'thumb-up-outline' }}.svg" ng-show="!ctr.voting[1]"></md-icon>
              <md-icon md-svg-src="/themes/{{::themename}}/loading.svg" ng-show="ctr.voting[1]"></md-icon>
            </md-button>

            <md-tooltip>{{ ctr.voteButtonMessage('Agree with this motion') }}</md-tooltip>

      </md-card-content>
    </md-card>

    <md-card style="margin: 8px" flex>
      <md-card-content style="padding: 0">
          <md-button  ng-click="ctr.castVote(motion.motionDetail.id, 0)" ng-class="{'md-raised':ctr.userVote.position == 0, 'voting-disabled':ctr.isVotingEnabled()}" aria-label="Abstain" layout-fill>
            <md-icon md-svg-icon="/themes/{{::themename}}/icons/{{ ctr.userVote.position==0 && 'thumbs-up-down' || 'thumbs-up-down-outline' }}.svg" ng-show="!ctr.voting[0]"></md-icon>
            <md-icon md-svg-icon="/themes/{{::themename}}/loading.svg" ng-show="ctr.voting[0]"></md-icon>             
          </md-button>  

            <md-tooltip>{{ ctr.voteButtonMessage('Abstain on this motion') }}</md-tooltip>


      </md-card-content>
    </md-card>


        <md-card style="margin: 8px" flex>
      <md-card-content style="padding: 0">
        <md-button  ng-click="ctr.castVote(motion.motionDetail.id, -1)" ng-class="{'md-raised disagree':ctr.userVote.position == -1, 'voting-disabled':ctr.isVotingEnabled()}" aria-label="Disagree" layout-fill>
            <md-icon md-svg-src="/themes/{{::themename}}/icons/{{ ctr.userVote.position=='-1' && 'thumb-down' || 'thumb-down-outline' }}.svg" ng-show="!ctr.voting[-1]"></md-icon>
            <md-icon md-svg-src="/themes/{{::themename}}/loading.svg" ng-show="ctr.voting[-1]"></md-icon>
          </md-button>   

            <md-tooltip>{{ ctr.voteButtonMessage('Disagree with this motion') }}</md-tooltip>


      </md-card-content>
    </md-card>
    

  </div>
</section>

<section class="voting-section-status-bar" ng-if="true">
    <div class="statusbar" layout="row" layout-align="center center" flex> 


        <md-button ng-if="ctr.voteObj.votes['1'] && ctr.voteObj.votes['1'].active" style="width:{{ ctr.voteObj.votes['1'].active.percent }}%; margin:0" class="agree md-raised md-primary" aria-label="Number in agreement">
          <md-tooltip>{{ ctr.voteObj.votes['1'].active.number }} {{vm.motionOpen ? ('AGREE' | translate) : ('AGREED' | translate) }} </md-tooltip>
        </md-button>

        <md-button ng-if="ctr.voteObj.motionVotes.deferred_agree.number != 0" style="width:{{ ctr.voteObj.motionVotes.deferred_agree.percent }}%; background-color:#00dbd5; margin:0" class="md-raised" aria-label="Number in deferred agreement">
          <md-tooltip>{{ ctr.voteObj.motionVotes.deferred_agree.number }} {{ 'AGREE_DEFERRALS' | translate}}</md-tooltip>
        </md-button>


        <md-button ng-if="ctr.voteObj.votes['0']" style="width:{{ ctr.voteObj.votes['0'].active.percent }}%; margin:0"  class="abstain md-raised md-grey; margin:0" aria-label="Number abstaining">
          <md-tooltip>{{ ctr.voteObj.votes['0'].active.number }} {{ vm.motionOpen? ('ABSTAIN' | translate) : ('ABSTAINED' | translate) }}</md-tooltip>
        </md-button>

        <md-button ng-if="ctr.voteObj.motionVotes.deferred_abstain.number != 0"  style="width:{{ ctr.voteObj.motionVotes.deferred_abstain.percent }}%; background-color: #c3c3c3; margin:0" class="deferred_abstain md-raised md-primary" aria-label="Number in deferred abstained">
          <md-tooltip>{{ ctr.voteObj.motionVotes.deferred_abstain.number }} {{ 'ABSTAIN_DEFERRALS' | translate }} </md-tooltip>
        </md-button>


        <md-button ng-if="ctr.voteObj.motionVotes.deferred_disagree.number != 0"  style="width:{{ ctr.voteObj.motionVotes.deferred_disagree.percent }}%; background-color: #ff9a00; margin:0" class="deferred-disagree md-raised md-primary" aria-label="Number in deferred agreement">
          <md-tooltip>{{ ctr.voteObj.motionVotes.deferred_disagree.number }} {{ 'DISAGREE_DEFERRALS' | translate }} </md-tooltip>
        </md-button>


        <md-button ng-if="ctr.voteObj.votes['-1']" style="width:{{ ctr.voteObj.votes['-1'].active.percent }}%; margin:0" class="disagree md-raised md-accent" aria-label="Number in disagreement">
          <md-tooltip>{{ ctr.voteObj.votes['-1'].active.number }} {{ vm.motionOpen ? ('DISAGREE' | translate) : ('DISAGREED' | translate) }} </md-tooltip>
        </md-button>

    </div>


</section>